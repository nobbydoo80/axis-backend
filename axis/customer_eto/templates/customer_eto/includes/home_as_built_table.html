{% load numbers %}

{# Requires "results" context variable, as generated by the EPSCalculatorFormView.calculate() method #}

<table class="table table-striped table-bordered" cellpadding="0" cellspacing="0" border="0">
    <thead>
        <tr>
            <th colspan="3" class="text-center">Home as Built</th>
        </tr>
    </thead>
    <tbody>
        <tr data-name="eps_score">
            <th class="text-center">EPS</th>
            <td class="value" data-precision="0">
                {{ results.result.eps_score|floatformat:0|default:"-" }}
            </td>
            <td>MBtu</td>
        </tr>
        <tr data-name="eps_score_built_to_code_score">
            <th class="text-center">EPS<br><i>If built to Code</i></th>
            <td class="value" data-precision="0">
                {{ results.result.code_eps_score|floatformat:0|default:"-" }}
            </td>
            <td>MBtu</td>
        </tr>
        <tr data-name="percent_improvement">
            <th class="text-center">Percent Improvement</th>
            <td class="value" colspan="2" data-precision="0" data-percentage="data-percentage">
                {{ results.result.floored_percentage_improvement|percentage:0|default:"-" }}
            </td>
        </tr>
        <tr data-name="percent_improvement_kwh">
            <th class="text-center"><strong>Electric Improvement</strong></th>
            <td class="value" colspan="2" data-precision="0" data-percentage="data-percentage">
                {{ results.calculations.floored_kwh_percentage_improvement|percentage:0|default:"-" }}
            </td>
        </tr>
        <tr data-name="percent_improvement_therms">
            <th class="text-center"><strong>Gas Improvement</strong></th>
            <td class="value" colspan="2" data-precision="0" data-percentage="data-percentage">
                {{ results.calculations.floored_therm_percentage_improvement|percentage:0|default:"-" }}
            </td>
        </tr>

        <tr data-name="builder_incentive">
            <th class="text-center"><strong>Incentive</strong></th>
            <td class="value" colspan="2" data-precision="2">
                ${{ results.result.total_builder_incentive|floatformat:2|default:"-" }}
            </td>
        </tr>
        <tr data-name="carbon_score">
            <th class="text-center">This Home's Carbon Score</th>
            <td class="value" data-precision="1">
                {{ results.result.carbon_score|floatformat:1|default:"-" }}
            </td>
            <td>Tons CO<sub>2</sub>/year</td>
        </tr>
        <tr data-name="carbon_built_to_code_score">
            <th class="text-center">This Home's Carbon Score<br><i>If built to Code</i></th>
            <td class="value" data-precision="1">
                {{ results.result.code_carbon_score|floatformat:1|default:"-" }}
            </td>
            <td>Tons CO<sub>2</sub>/year</td>
        </tr>
        <tr data-name="estimated_annual_energy_costs">
            <th class="text-center">Estimated Average<br>Annual Energy Costs</th>
            <td class="value" data-precision="2">
                ${{ results.result.estimated_annual_cost|floatformat:2|default:"-" }}
            </td>
            <td>$ per year</td>
        </tr>
        <tr data-name="estimated_monthly_energy_costs">
            <th class="text-center">Estimated Average<br>Monthly Energy Costs</th>
            <td class="value" data-precision="2">
                ${{ results.result.estimated_monthly_cost|floatformat:2|default:"-" }}
            </td>
            <td>$ per month</td>
        </tr>
        <tr data-name="similar_size_eps_score">
            <th class="text-center">Similar Size <span data-name="state_abbreviation">{{ results.state_abbreviation }}</span> Home<br>EPS</th>
            <td class="value" data-precision="0">
                {{ results.result.projected_size_or_home_eps|floatformat:0|default:"-" }}
            </td>
            <td>MBtu</td>
        </tr>
        <tr data-name="similar_size_carbon_score">
            <th class="text-center">Similar Size <span data-name="state_abbreviation">{{ results.state_abbreviation }}</span> Home<br>Carbon Score</th>
            <td class="value" data-precision="1">
                {{ results.result.projected_size_or_home_carbon|floatformat:1|default:"-" }}
            </td>
            <td>Tons CO<sub>2</sub>/year</td>
        </tr>
    </tbody>
</table>

{% if not hide_admin_table %}
<table class="table table-striped table-bordered" cellpadding="0" cellspacing="0" border="0">
    <tbody>
        <tr data-name="builder_gas_incentive" data-showview="[[ regionObject.helpers.eps_showview ]]">
            <td class="text-left">Builder Gas Incentive</td>
            <td class="value" data-precision="2">
                ${{ results.result.builder_gas_incentive|floatformat:2|default:"-" }}
            </td>
        </tr>
        <tr data-name="builder_electric_incentive" data-showview="[[ regionObject.helpers.eps_showview ]]">
            <td class="text-left">Builder Electric Incentive</td>
            <td class="value" data-precision="2">
                ${{ results.result.builder_electric_incentive|floatformat:2|default:"-" }}
            </td>
        </tr>
        <tr data-name="builder_incentive" data-showview="[[ regionObject.helpers.eps_showview ]]">
            <th class="text-left"><strong>Total Builder Incentive</strong></th>
            <td class="value" data-precision="2">
                ${{ results.result.total_builder_incentive|floatformat:2|default:"-" }}
            </td>
        </tr>
        <tr data-name="original_builder_incentive" data-showview="[[ regionObject.helpers.eps_show_original_builder_incentive ]]">
            <td class="text-left"><i>Original Builder Incentive</i></td>
            <td class="value" data-precision="2">
                ${{ results.result.original_builder_incentive|floatformat:2|default:"-" }}
            </td>
        </tr>
        <tr data-name="rater_gas_incentive" data-showview="[[ regionObject.helpers.eps_showview ]]">
            <td class="text-left">Rater Gas Incentive</td>
            <td class="value" data-precision="2">
                ${{ results.result.rater_gas_incentive|floatformat:2|default:"-" }}
            </td>
        </tr>
        <tr data-name="rater_electric_incentive" data-showview="[[ regionObject.helpers.eps_showview ]]">
            <td class="text-left">Rater Electric Incentive</td>
            <td class="value" data-precision="2">
                ${{ results.result.rater_electric_incentive|floatformat:2|default:"-" }}
            </td>
        </tr>
        <tr data-name="rater_incentive" data-showview="[[ regionObject.helpers.eps_showview ]]">
            <th class="text-left"><strong>Total Rater Incentive</strong></th>
            <td class="value" data-precision="2">
                ${{ results.result.rater_incentive|floatformat:2|default:"-" }}
            </td>
        </tr>
        <tr data-name="original_rater_incentive" data-showview="[[ regionObject.helpers.eps_show_original_rater_incentive ]]">
            <td class="text-left"><i>Original Rater Incentive</i></td>
            <td class="value" data-precision="2">
                ${{ results.result.original_rater_incentive|floatformat:2|default:"-" }}
            </td>
        </tr>
        <tr data-name="kwh_savings" data-showview="[[ regionObject.helpers.eps_showview ]]">
            <th class="text-left"><strong>KWh Savings</strong></th>
            <td class="value" data-precision="2">
                {{ results.result.kwh_savings|floatformat:2|default:"-" }}
            </td>
        </tr>
        <tr data-name="mbtu_savings" data-showview="[[ regionObject.helpers.eps_showview ]]">
            <th class="text-left"><strong>MBtu Savings</strong></th>
            <td class="value" data-precision="2">
                {{ results.result.mbtu_savings|floatformat:2|default:"-" }}
            </td>
        </tr>
        <tr data-name="therm_savings" data-showview="[[ regionObject.helpers.eps_showview ]]">
            <th class="text-left"><strong>Therm Savings</strong></th>
            <td class="value" data-precision="2">
                {{ results.result.therm_savings|floatformat:2|default:"-" }}
            </td>
        </tr>
        <tr data-name="net_zero_eps_incentive" data-showview="[[ regionObject.helpers.eps_showview ]]">
            <th class="text-left"><strong>Net Zero EPS Incentive</strong></th>
            <td class="value" data-precision="2">
                ${{ results.result.net_zero_eps_incentive|floatformat:2|default:"-" }}
            </td>
        </tr>
        <tr data-name="energy_smart_homes_eps_incentive" data-showview="[[ regionObject.helpers.eps_showview ]]">
            <th class="text-left"><strong>Energy Smart EPS Incentive</strong></th>
            <td class="value" data-precision="2">
                ${{ results.result.energy_smart_homes_eps_incentive|floatformat:2|default:"-" }}
            </td>
        </tr>
        <tr data-name="net_zero_solar_incentive" data-showview="[[ regionObject.helpers.eps_showview ]]">
            <th class="text-left"><strong>Net Zero Solar Incentive</strong></th>
            <td class="value" data-precision="2">
                ${{ results.result.net_zero_solar_incentive|floatformat:2|default:"-" }}
            </td>
        </tr>
        <tr data-name="energy_smart_homes_solar_incentive" data-showview="[[ regionObject.helpers.eps_showview ]]">
            <th class="text-left"><strong>Energy Smart Homes Solar Incentive</strong></th>
            <td class="value" data-precision="2">
                ${{ results.result.energy_smart_homes_solar_incentive|floatformat:2|default:"-" }}
            </td>
        </tr>
    </tbody>
</table>
<div class="row" id="eps-manual-override" hidden><div class="col-md-12">
    <i>Note: &#8225; denotes an incentive override has been applied.  The dollar amount shows in the new value.</i>
</div></div>

{% endif %}
