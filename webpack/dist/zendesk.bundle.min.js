!function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}__webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})},__webpack_require__.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__webpack_require__.t=function(value,mode){if(1&mode&&(value=__webpack_require__(value)),8&mode)return value;if(4&mode&&"object"==typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);if(__webpack_require__.r(ns),Object.defineProperty(ns,"default",{enumerable:!0,value:value}),2&mode&&"string"!=typeof value)for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=304)}({130:function(module,exports){!function(window){"use strict";var MAJOR="major",MODEL="model",NAME="name",TYPE="type",VENDOR="vendor",VERSION="version",MOBILE="mobile",util={has:function(str1,str2){return-1!==str2.toLowerCase().indexOf(str1.toLowerCase())},lowerize:function(str){return str.toLowerCase()}},mapper={rgx:function(){for(var result,j,k,p,q,matches,match,i=0,args=arguments;i<args.length;i+=2){var regex=args[i],props=args[i+1];if(void 0===result)for(p in result={},props)"object"==typeof(q=props[p])?result[q[0]]=void 0:result[q]=void 0;for(j=k=0;j<regex.length;j++)if(matches=regex[j].exec(this.getUA())){for(p in props)match=matches[++k],"object"==typeof(q=props[p])&&0<q.length?2==q.length?"function"==typeof q[1]?result[q[0]]=q[1].call(this,match):result[q[0]]=q[1]:3==q.length?"function"!=typeof q[1]||q[1].exec&&q[1].test?result[q[0]]=match?match.replace(q[1],q[2]):void 0:result[q[0]]=match?q[1].call(this,match,q[2]):void 0:4==q.length&&(result[q[0]]=match?q[3].call(this,match.replace(q[1],q[2])):void 0):result[q]=match||void 0;break}if(matches)break}return result},str:function(str,map){for(var i in map)if("object"==typeof map[i]&&0<map[i].length){for(var j in map[i])if(util.has(map[i][j],str))return"?"===i?void 0:i}else if(util.has(map[i],str))return"?"===i?void 0:i;return str}},maps={browser:{oldsafari:{major:{1:["/8","/1","/3"],2:"/4","?":"/"},version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",RT:"ARM"}}}},regexes={browser:[[/(opera\smini)\/((\d+)?[\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/((\d+)?[\w\.-]+)/i,/(opera).+version\/((\d+)?[\w\.]+)/i,/(opera)[\/\s]+((\d+)?[\w\.]+)/i],[NAME,VERSION,MAJOR],[/\s(opr)\/((\d+)?[\w\.]+)/i],[[NAME,"Opera"],VERSION,MAJOR],[/(kindle)\/((\d+)?[\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?((\d+)?[\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?((\d+)?[\w\.]*)/i,/(?:ms|\()(ie)\s((\d+)?[\w\.]+)/i,/(rekonq)((?:\/)[\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt)\/((\d+)?[\w\.-]+)/i],[NAME,VERSION,MAJOR],[/(yabrowser)\/((\d+)?[\w\.]+)/i],[[NAME,"Yandex"],VERSION,MAJOR],[/(comodo_dragon)\/((\d+)?[\w\.]+)/i],[[NAME,/_/g," "],VERSION,MAJOR],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?((\d+)?[\w\.]+)/i],[NAME,VERSION,MAJOR],[/(dolfin)\/((\d+)?[\w\.]+)/i],[[NAME,"Dolphin"],VERSION,MAJOR],[/((?:android.+)crmo|crios)\/((\d+)?[\w\.]+)/i],[[NAME,"Chrome"],VERSION,MAJOR],[/version\/((\d+)?[\w\.]+).+?mobile\/\w+\s(safari)/i],[VERSION,MAJOR,[NAME,"Mobile Safari"]],[/version\/((\d+)?[\w\.]+).+?(mobile\s?safari|safari)/i],[VERSION,MAJOR,NAME],[/webkit.+?(mobile\s?safari|safari)((\/[\w\.]+))/i],[NAME,[MAJOR,mapper.str,maps.browser.oldsafari.major],[VERSION,mapper.str,maps.browser.oldsafari.version]],[/(konqueror)\/((\d+)?[\w\.]+)/i,/(webkit|khtml)\/((\d+)?[\w\.]+)/i],[NAME,VERSION,MAJOR],[/(navigator|netscape)\/((\d+)?[\w\.-]+)/i],[[NAME,"Netscape"],VERSION,MAJOR],[/(swiftfox)/i,/(iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?((\d+)?[\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/((\d+)?[\w\.-]+)/i,/(mozilla)\/((\d+)?[\w\.]+).+rv\:.+gecko\/\d+/i,/(uc\s?browser|polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf)[\/\s]?((\d+)?[\w\.]+)/i,/(links)\s\(((\d+)?[\w\.]+)/i,/(gobrowser)\/?((\d+)?[\w\.]+)*/i,/(ice\s?browser)\/v?((\d+)?[\w\._]+)/i,/(mosaic)[\/\s]((\d+)?[\w\.]+)/i],[NAME,VERSION,MAJOR]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[["architecture",/ower/,"",util.lowerize]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/(ia64(?=;)|68k(?=\))|arm(?=v\d+;)|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],["architecture",util.lowerize]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[MODEL,VENDOR,[TYPE,"tablet"]],[/(hp).+(touchpad)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[VENDOR,MODEL,[TYPE,"tablet"]],[/\((ip[honed]+);.+(apple)/i],[MODEL,VENDOR,[TYPE,MOBILE]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|huawei|meizu|motorola)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[VENDOR,MODEL,[TYPE,MOBILE]],[/\((bb10);\s(\w+)/i],[[VENDOR,"BlackBerry"],MODEL,[TYPE,MOBILE]],[/android.+((transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+))/i],[[VENDOR,"Asus"],MODEL,[TYPE,"tablet"]],[/(sony)\s(tablet\s[ps])/i],[VENDOR,MODEL,[TYPE,"tablet"]],[/(nintendo)\s([wids3u]+)/i],[VENDOR,MODEL,[TYPE,"console"]],[/((playstation)\s[3portablevi]+)/i],[[VENDOR,"Sony"],MODEL,[TYPE,"console"]],[/(sprint\s(\w+))/i],[[VENDOR,mapper.str,maps.device.sprint.vendor],[MODEL,mapper.str,maps.device.sprint.model],[TYPE,MOBILE]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|huawei|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],[VENDOR,[MODEL,/_/g," "],[TYPE,MOBILE]],[/\s((milestone|droid[2x]?))[globa\s]*\sbuild\//i,/(mot)[\s-]?(\w+)*/i],[[VENDOR,"Motorola"],MODEL,[TYPE,MOBILE]],[/android.+\s((mz60\d|xoom[\s2]{0,2}))\sbuild\//i],[[VENDOR,"Motorola"],MODEL,[TYPE,"tablet"]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n8000|sgh-t8[56]9))/i],[[VENDOR,"Samsung"],MODEL,[TYPE,"tablet"]],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[[VENDOR,"Samsung"],MODEL,[TYPE,MOBILE]],[/(sie)-(\w+)*/i],[[VENDOR,"Siemens"],MODEL,[TYPE,MOBILE]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[[VENDOR,"Nokia"],MODEL,[TYPE,MOBILE]],[/android\s3\.[\s\w-;]{10}((a\d{3}))/i],[[VENDOR,"Acer"],MODEL,[TYPE,"tablet"]],[/android\s3\.[\s\w-;]{10}(lg?)-([06cv9]{3,4})/i],[[VENDOR,"LG"],MODEL,[TYPE,"tablet"]],[/((nexus\s4))/i,/(lg)[e;\s-\/]+(\w+)*/i],[[VENDOR,"LG"],MODEL,[TYPE,MOBILE]],[/(mobile|tablet);.+rv\:.+gecko\//i],[TYPE,VENDOR,MODEL]],engine:[[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[NAME,VERSION],[/rv\:([\w\.]+).*(gecko)/i],[VERSION,NAME]],os:[[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*|windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[NAME,[VERSION,mapper.str,maps.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[NAME,"Windows"],[VERSION,mapper.str,maps.os.windows.version]],[/\((bb)(10);/i],[[NAME,"BlackBerry"],VERSION],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)\/([\w\.]+)/i,/(android|webos|palm\os|qnx|bada|rim\stablet\sos|meego)[\/\s-]?([\w\.]+)*/i],[NAME,VERSION],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[NAME,"Symbian"],VERSION],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[NAME,"Firefox OS"],VERSION],[/(nintendo|playstation)\s([wids3portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk)[\/\s-]?([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[NAME,VERSION],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[NAME,"Chromium OS"],VERSION],[/(sunos)\s?([\w\.]+\d)*/i],[[NAME,"Solaris"],VERSION],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[NAME,VERSION],[/(ip[honead]+)(?:.*os\s*([\w]+)*\slike\smac|;\sopera)/i],[[NAME,"iOS"],[VERSION,/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i],[NAME,[VERSION,/_/g,"."]],[/(haiku)\s(\w+)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(macintosh|mac(?=_powerpc)|plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos)/i,/(unix)\s?([\w\.]+)*/i],[NAME,VERSION]]};module.exports=function UAParser(uastring){if(!(this instanceof UAParser))return new UAParser(uastring).getResult();var ua=uastring||(window&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:"");if(!(this instanceof UAParser))return new UAParser(uastring).getResult();this.getBrowser=function(){return mapper.rgx.apply(this,regexes.browser)},this.getCPU=function(){return mapper.rgx.apply(this,regexes.cpu)},this.getDevice=function(){return mapper.rgx.apply(this,regexes.device)},this.getEngine=function(){return mapper.rgx.apply(this,regexes.engine)},this.getOS=function(){return mapper.rgx.apply(this,regexes.os)},this.getResult=function(){return{browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return ua},this.setUA=function(uastring){return ua=uastring,this},this.setUA(ua)}}(this)},304:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var external_angular_=__webpack_require__(6),external_angular_default=__webpack_require__.n(external_angular_),zendesk_urls={list:"/api/v2/zendesk/tickets/",create:"/api/v2/zendesk/new_ticket/",ticket_fields:"/api/v2/zendesk/ticket_fields/"},zendesk_keys={ticket_fields:"zendesk_ticket_fields",open_pages:"zendesk_open_pages"},zendesk_widget={min_height:"39px",max_height:"500px"},ua_parser=__webpack_require__(130),ua_parser_default=__webpack_require__.n(ua_parser),zendesk_module=(__webpack_exports__.default="axis.zendesk",external_angular_default.a.module("axis.zendesk",[]));zendesk_module.factory("Zendesk",function($http,$q){return{all:function(){return $http.get(zendesk_urls.list)},create:function(data){return $http.post(zendesk_urls.create,data)},data:{ticket_fields:[]}}}),zendesk_module.controller("ZendeskController",function($scope,User,Zendesk,Impersonate){var ctrl=this;function submit_success(data){ctrl.processing=2,ctrl.ticket=data.data.ticket||data.data.request}function submit_error(){ctrl.processing=3}function submit_finally(){setTimeout(function(){ctrl.processing=0,$scope.$digest()},2e3)}ctrl.processing=0,ctrl.requester_name="",ctrl.requester_email="",ctrl.ticket_type="question",ctrl.ticket_priority="low",ctrl.submit=function(){return ctrl.processing=1,Zendesk.create(function(model){var data=external_angular_default.a.copy(model);return data.requester_name=ctrl.requester_name,data.requester_email=ctrl.requester_email,data.current_page=function(){return window.location.href}(),data.other_pages=function(){var other_pages=JSON.parse(localStorage.getItem("zendesk_open_pages"));return other_pages.splice(other_pages.indexOf(window.location.href),1),other_pages.join(", ")}(),data.type=ctrl.ticket_type,data.priority=ctrl.ticket_priority,data.comment={body:function(data){var ua=new ua_parser_default.a(navigator.userAgent).getResult();return"".concat(data.description,"\n\n        ---\n        Current Page:\n        ").concat(data.current_page,"\n        ---\n        Other Pages:\n        ").concat(data.other_pages||"None","\n        ---\n        Browser:\n        ").concat(ua.browser.name," - ").concat(ua.browser.version,"\n        ---\n        OS:\n        ").concat(ua.os.name," - ").concat(ua.os.version,"\n        ")}(data)},delete data.description,data}(ctrl.model)).then(submit_success,submit_error).finally(submit_finally)},ctrl.show=!1,ctrl.ticket=null,ctrl.model={subject:"",description:""},ctrl.type_options=[{name:"Question",value:"question"},{name:"Incident",value:"incident"},{name:"Problem",value:"problem"},{name:"Task",value:"task"}],ctrl.priority_options=[{name:"Low",value:"low"},{name:"Normal",value:"normal"},{name:"High",value:"high"},{name:"Urgent",value:"urgent"}],User.subscribe(function(user){ctrl.requester_name="".concat(user.first_name," ").concat(user.last_name),ctrl.requester_email=user.email,ctrl.show=!!Impersonate.current_user&&!Impersonate.is_impersonating})}),zendesk_module.directive("zendesk",function(){return{controller:"ZendeskController",controllerAs:"zendesk",link:function(scope,element,attrs,ctrl){ctrl.is_open=!1,ctrl.negate_is_open=function(){return ctrl.is_open=!ctrl.is_open},element.css("max-height",zendesk_widget.min_height),ctrl.toggle=function(){element.css("max-height",ctrl.is_open?zendesk_widget.min_height:zendesk_widget.max_height),function(){var reset_fields=0<arguments.length&&void 0!==arguments[0]&&arguments[0];ctrl.is_open?setTimeout(function(){ctrl.negate_is_open(),reset_fields&&(ctrl.ticket=null,ctrl.model={subject:"",description:""})},1):ctrl.negate_is_open()}(!!ctrl.ticket)}}}}),$(function(){var original_href=window.location.href,open_pages=JSON.parse(localStorage.getItem(zendesk_keys.open_pages))||[];open_pages.push(original_href);try{localStorage.setItem(zendesk_keys.open_pages,JSON.stringify(open_pages))}catch(e){localStorage.removeItem(zendesk_keys.open_pages)}$(window).unload(function(){var open_pages=JSON.parse(localStorage.getItem(zendesk_keys.open_pages))||[];open_pages.splice(open_pages.indexOf(original_href),1);try{localStorage.setItem(zendesk_keys.open_pages,JSON.stringify(open_pages))}catch(e){localStorage.removeItem(zendesk_keys.open_pages)}})})},6:function(module,exports){module.exports=angular}});
