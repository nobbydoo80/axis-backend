!function(modules){function webpackJsonpCallback(data){for(var moduleId,chunkId,chunkIds=data[0],moreModules=data[1],executeModules=data[2],i=0,resolves=[];i<chunkIds.length;i++)chunkId=chunkIds[i],Object.prototype.hasOwnProperty.call(installedChunks,chunkId)&&installedChunks[chunkId]&&resolves.push(installedChunks[chunkId][0]),installedChunks[chunkId]=0;for(moduleId in moreModules)Object.prototype.hasOwnProperty.call(moreModules,moduleId)&&(modules[moduleId]=moreModules[moduleId]);for(parentJsonpFunction&&parentJsonpFunction(data);resolves.length;)resolves.shift()();return deferredModules.push.apply(deferredModules,executeModules||[]),checkDeferredModules()}function checkDeferredModules(){for(var result,i=0;i<deferredModules.length;i++){for(var deferredModule=deferredModules[i],fulfilled=!0,j=1;j<deferredModule.length;j++){var depId=deferredModule[j];0!==installedChunks[depId]&&(fulfilled=!1)}fulfilled&&(deferredModules.splice(i--,1),result=__webpack_require__(__webpack_require__.s=deferredModule[0]))}return result}var installedModules={},installedChunks={2:0,5:0},deferredModules=[];function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}__webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})},__webpack_require__.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__webpack_require__.t=function(value,mode){if(1&mode&&(value=__webpack_require__(value)),8&mode)return value;if(4&mode&&"object"==typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);if(__webpack_require__.r(ns),Object.defineProperty(ns,"default",{enumerable:!0,value:value}),2&mode&&"string"!=typeof value)for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="";var jsonpArray=window.webpackJsonp=window.webpackJsonp||[],oldJsonpFunction=jsonpArray.push.bind(jsonpArray);jsonpArray.push=webpackJsonpCallback,jsonpArray=jsonpArray.slice();for(var i=0;i<jsonpArray.length;i++)webpackJsonpCallback(jsonpArray[i]);var parentJsonpFunction=oldJsonpFunction;deferredModules.push([303,0]),checkDeferredModules()}({303:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var external_angular_=__webpack_require__(6),external_angular_default=__webpack_require__.n(external_angular_),angular_ui_bootstrap=__webpack_require__(27),angular_ui_bootstrap_default=__webpack_require__.n(angular_ui_bootstrap),impersonate=__webpack_require__(46),auth_login="/accounts/ajax-login/",auth_module=(__webpack_exports__.default="axis.authentication",external_angular_default.a.module("axis.authentication",[angular_ui_bootstrap_default.a,impersonate.default]));auth_module.factory("Authentication",function($http){return{login:function(username,password){return $http({url:auth_login,method:"POST",data:$.param({username:username,password:password}),headers:{"Content-Type":"application/x-www-form-urlencoded"}})}}}),auth_module.controller("LoginController",function(Authentication){var ctrl=this;ctrl.dropdown_open=!1,ctrl.spinner_displayed=!1,ctrl.login=function(){return ctrl.dropdown_open=!0,ctrl.spinner_displayed=!0,Authentication.login(ctrl.username,ctrl.password).then(ctrl.login_success,ctrl.login_error)},ctrl.login_success=function(){return window.location="/"},ctrl.login_error=function(data){return ctrl.errors=data.data.errors}}),auth_module.directive("login",function(){return{controller:"LoginController",controllerAs:"login"}}),auth_module.directive("preventClose",function(){return{restrict:"A",link:function(scope,element){element.on("click",function(e){e.stopPropagation()})}}})},46:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var external_angular_=__webpack_require__(6),external_angular_default=__webpack_require__.n(external_angular_),angular_ui_bootstrap=__webpack_require__(27),angular_ui_bootstrap_default=__webpack_require__.n(angular_ui_bootstrap),impersonate_urls={list:"/api/v2/user/impersonate_list/",detail:"/api/v2/user/[[ id ]]/",impersonate_start:"/api/v2/user/[[ id ]]/impersonate_start/",impersonate_stop:"/api/v2/user/impersonate_stop/"},impersonate_keys={counts:"axis_impersonate_user_counts",latest_impersonate:"axis_latest_impersonate_users_list"},impersonate_module=(__webpack_exports__.default="axis.impersonate",external_angular_default.a.module("axis.impersonate",[angular_ui_bootstrap_default.a]));impersonate_module.factory("Impersonate",function($q,$http,$interpolate,User){var id,obj={current_user:null,super_user:null,is_impersonating:window.is_impersonate,all:function(){return $http.get(impersonate_urls.list)},start:function(user){return obj.is_impersonating?_stop(!1).then(function(){return _start(user)}).then(User.getUser):_start(user).then(User.getUser)},stop:function(){return _stop().then(User.getUser)}},_url=function(url,id){return $interpolate(url)({id:id})},start_url=function(id){return _url(impersonate_urls.impersonate_start,id)},set_user=function(data){return obj.current_user=data.data},set_super=function(data){return obj.super_user=data.data};return User.subscribe(function(user){return(obj.is_impersonating?set_user:function(data){set_user(data),set_super(data)})({data:user})}),obj.is_impersonating&&$http.get((id=window.impersonator_id,_url(impersonate_urls.detail,id))).then(set_super),obj;function _start(user){return function(userId){var counts=JSON.parse(localStorage.getItem(impersonate_keys.counts))||{};userId in counts?counts[userId]++:counts[userId]=1;localStorage.setItem(impersonate_keys.counts,JSON.stringify(counts))}(user.id),$http.post(start_url(user.id)).then(function(data){return obj.is_impersonating=!0,window.user_id=user.id,window.location.reload(!0),data})}function _stop(argument_0){var reloadPage=!(0<arguments.length&&void 0!==argument_0)||argument_0;return $http.post(impersonate_urls.impersonate_stop).then(function(data){return function(user){var latest=JSON.parse(localStorage.getItem(impersonate_keys.latest_impersonate))||[];(latest=_.reject(latest,user)).unshift(user),latest.splice(5,1),localStorage.setItem(impersonate_keys.latest_impersonate,JSON.stringify(latest))}(User.user),obj.is_impersonating=!1,window.user_id=window.impersonator_id,reloadPage&&window.location.reload(!0),data})}}),impersonate_module.controller("ImpersonateController",function(Impersonate,User){var ctrl=this;ctrl.processing=!1,ctrl.user=null,ctrl.users=[],ctrl.processing_start=function(){return ctrl.processing=!0},ctrl.processing_stop=function(){return ctrl.processing=!1},ctrl.user_null=function(){return ctrl.user=null},ctrl.is_impersonating=function(){return Impersonate.is_impersonating},ctrl.current_user=function(){return User.user},ctrl.impersonate=function(user){"number"==typeof user&&(user=_.indexBy(ctrl.users,"id")[user]);ctrl.processing_start(),Impersonate.start(user).then(ctrl.user_null).finally(ctrl.processing_stop)},ctrl.stop=function(){ctrl.processing_start(),Impersonate.stop().finally(ctrl.processing_stop)},Impersonate.all().then(function(users){return ctrl.users=users.data})}),impersonate_module.directive("impersonate",function(User,$compile){return{controller:"ImpersonateController",controllerAs:"impersonate",link:function(scope,element,attrs,ctrl){function getImpersonatePersistText(user){return"\n                ".concat([user.first_name,user.last_name].join(" ")," (").concat(user.username,") | ").concat(user.company_name," (").concat(user.company_type,")\n                ")}User.subscribe(function(user){scope.impersonate.is_impersonating()&&function(user){$(".impersonate-persist").html(getImpersonatePersistText(user)).removeClass("hidden")}(user),function(user){element.find(".user").html(function(user){return'\n                    <h4>\n                        <span class="text-muted">['.concat(user.id,"]</span>\n                        ").concat(user.first_name," ").concat(user.last_name," ").concat(function(user){if(user.is_company_admin)return'<i class="fa fa-fw fa-user-secret"></i>'}(user),"\n                        - <small>").concat(user.title,'</small>\n                    </h4>\n                    <h5>\n                        <span class="text-muted">[').concat(user.company,"]</span>\n                        ").concat(user.company_name," - <small>").concat(user.company_type,"</small>\n                    </h5>\n                ")}(user))}(user),element.find(".impersonation-list").html($compile(function(){var latest=JSON.parse(localStorage.getItem(impersonate_keys.latest_impersonate))||[];if(latest.length)return'\n                    <h5>Previous Impersonations</h5>\n                    <div class="list-group">\n                        '.concat(latest.map(function(user){return'\n                            <a class="list-group-item" ng-click="impersonate.impersonate('.concat(user.id,')">\n                                ').concat(getImpersonatePersistText(user),"\n                            </a>\n                        ")}).join(""),"\n                    </div>\n                ")}())(scope))})}}}),impersonate_module.directive("preventTypeaheadClose",function($document,$timeout){return{restrict:"A",link:function(scope,element,attrs){$document.on("click",function(e){scope.impersonate.is_open&&$(e.target).closest("a").hasClass("typeahead-item")&&e.stopImmediatePropagation()}),scope.$watch(function(){return scope.impersonate.is_open},function(newVal,oldVal){newVal&&newVal!==oldVal&&$timeout(function(){element.find("input.form-control").focus()},0)})}}}),impersonate_module.run(function($templateCache){$templateCache.put("template/typeahead/typeahead-impersonate-match.html",' <a tabindex=\'-1\' class=\'typeahead-item\'>\n            <span bind-html-unsafe="match.model.first_name | typeaheadHighlight:query"></span>\n            <span bind-html-unsafe="match.model.last_name | typeaheadHighlight:query"></span>\n            (<span bind-html-unsafe="match.model.username | typeaheadHighlight:query"></span>)\n            <br>\n            <span bind-html-unsafe="match.model.company_name | typeaheadHighlight:query"></span>\n            <span bind-html-unsafe="match.model.company_type | typeaheadHighlight:query"></span>\n        </a> ')})},6:function(module,exports){module.exports=angular}});
